{"version":3,"sources":["webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?5937"],"names":["class","hasToken","userName","userEmail","name","data","siteNavTapped","userNavTapped","lastTapped","onlyOneActiveTap","computed","this","$store","state","auth","watch","updateUserInfo","created","methods","token","getters","authToken","redirectToLogin","vueContext","xhttp","XMLHttpRequest","onreadystatechange","readyState","responseObj","JSON","parse","responseText","alert","status","user","email","console","log","open","setRequestHeader","send","$router","push","path","getUserInfo","clearUserInfo","__exports__","render"],"mappings":"mIAEMA,MAAM,6B,YAET,eAAqB,UAAjB,gBAAY,G,GAAhB,G,YAKA,eAAmB,YAAb,UAAM,G,gDARf,eAWU,gBAVT,eASM,MATN,EASM,CARO,EAAAC,S,wCAAZ,eAEM,YACK,EAAAA,U,iBAAX,eAIM,SAHL,eAAgC,UAA5B,WAAQ,eAAG,EAAAC,UAAW,IAAC,GAE3B,EAAmB,eAA4B,2BAAnB,EAAAC,WAAS,M,wCAOzB,GACdC,KAAM,aACNC,KAAM,WACL,MAAO,CAENH,SAAU,GACVC,UAAW,GAGXG,eAAe,EACfC,eAAe,EACfC,WAAY,KACZC,kBAAkB,IAGpBC,SAAU,CACTT,SADS,WAER,OAAOU,KAAKC,OAAOC,MAAMC,KAAKb,WAGhCc,MAAO,CACNd,SAAU,WACTU,KAAKK,mBAGPC,QAAS,WACRN,KAAKK,kBAENE,QAAS,CACRF,eAAgB,WAEf,IAAIG,EAAQR,KAAKC,OAAOQ,QAAQC,UAChC,IAAKF,EAIJ,OAHAR,KAAKT,SAAW,GAChBS,KAAKR,UAAY,QACjBQ,KAAKW,kBAKN,IAAIC,EAAaZ,KACba,EAAQ,IAAIC,eAChBD,EAAME,mBAAqB,WAC1B,GAAuB,GAAnBf,KAAKgB,WAAiB,CACzB,IAAIC,EAAcC,KAAKC,MAAMnB,KAAKoB,cAE9B,GAASH,EAAYd,MACxBkB,MAAM,oCAGY,KAAfrB,KAAKsB,QAAiB,GAAQL,EAAYd,MAC7CS,EAAWrB,SAAW0B,EAAYM,KAAK9B,KACvCmB,EAAWpB,UAAYyB,EAAYM,KAAKC,OAExCH,MAAM,UAAYrB,KAAKoB,cAGxBK,QAAQC,IAAIT,KAGdJ,EAAMc,KAAK,MAAO,wBAAwB,GAC1Cd,EAAMe,iBAAiB,iBAAkBpB,GACzCK,EAAMgB,QAEPlB,gBAAiB,WAChBX,KAAK8B,QAAQC,KAAK,CAAEC,KAAM,WAE3BC,YAAa,aAGbC,cAAe,e,qBCjFjB,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/profile.320b8072.js","sourcesContent":["<template>\r\n<section>\r\n\t<div class=\"profile component-padding\">\r\n\t\t<div v-if=\"!hasToken\">\r\n\t\t\t<h1>Please Login</h1>\r\n\t\t</div>\r\n\t\t<div v-if=\"hasToken\">\r\n\t\t\t<h1>Welcome {{ userName }}!</h1>\r\n\r\n\t\t\t<span>Email:</span><span>{{ userEmail }}</span>\r\n\t\t</div>\r\n\t</div>\r\n</section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'da-profile',\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\t// data\r\n\t\t\tuserName: \"\",\r\n\t\t\tuserEmail: \"\",\r\n\r\n\t\t\t// Mobile tapping data\r\n\t\t\tsiteNavTapped: false,\r\n\t\t\tuserNavTapped: false,\r\n\t\t\tlastTapped: null,\r\n\t\t\tonlyOneActiveTap: true\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\thasToken() {\r\n\t\t\treturn this.$store.state.auth.hasToken;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\thasToken: function() {\r\n\t\t\tthis.updateUserInfo();\r\n\t\t}\r\n\t},\r\n\tcreated: function() {\r\n\t\tthis.updateUserInfo();\r\n\t},\r\n\tmethods: {\r\n\t\tupdateUserInfo: function() {\r\n\t\t\t// Check if a token exists\r\n\t\t\tvar token = this.$store.getters.authToken;\r\n\t\t\tif (!token) {\r\n\t\t\t\tthis.userName = '';\r\n\t\t\t\tthis.userEmail = '';\r\n\t\t\t\tthis.redirectToLogin();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If token exists attempt to get user information\r\n\t\t\tvar vueContext = this;\r\n\t\t\tvar xhttp = new XMLHttpRequest();\r\n\t\t\txhttp.onreadystatechange = function() {\r\n\t\t\t\tif (this.readyState == 4) {\r\n\t\t\t\t\tvar responseObj = JSON.parse(this.responseText);\r\n\r\n\t\t\t\t\tif (false == responseObj.auth) {\r\n\t\t\t\t\t\talert(\"Not authorized to view this page\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.status == 200 && true == responseObj.auth) {\r\n\t\t\t\t\t\tvueContext.userName = responseObj.user.name;\r\n\t\t\t\t\t\tvueContext.userEmail = responseObj.user.email;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(\"Error: \" + this.responseText);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconsole.log(responseObj);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\txhttp.open(\"GET\", \"/api/v1/site/auth/me\", true);\r\n\t\t\txhttp.setRequestHeader('x-access-token', token);\r\n\t\t\txhttp.send();\r\n\t\t},\r\n\t\tredirectToLogin: function() {\r\n\t\t\tthis.$router.push({ path: 'Login'})\r\n\t\t},\r\n\t\tgetUserInfo: function(/*target, tapGroup*/) {\r\n\r\n\t\t},\r\n\t\tclearUserInfo: function() {\r\n\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=0506d4d6\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/Projects/Node/Node-004-Hotwired/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}